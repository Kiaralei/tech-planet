---
title: Monorepo å’Œ Multirepo åœ¨å‰ç«¯é¢†åŸŸçš„åº”ç”¨
date: 2026-01-05 14:40:57
categories:
  - Frontend
  - Engineering
tags:
  - Monorepo
  - Multirepo
  - å‰ç«¯å·¥ç¨‹åŒ–
  - pnpm
  - Turborepo
---

## ğŸ“š å‰è¨€

éšç€å‰ç«¯é¡¹ç›®è§„æ¨¡çš„å¢é•¿ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°ç®¡ç†å¤šä¸ªç›¸å…³è”çš„é¡¹ç›®æˆä¸ºäº†ä¸€ä¸ªé‡è¦è¯¾é¢˜ã€‚**Monorepo** å’Œ **Multirepo** æ˜¯ä¸¤ç§ä¸»æµçš„ä»£ç ä»“åº“ç®¡ç†ç­–ç•¥ï¼Œå„æœ‰ä¼˜åŠ£ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸¤ç§æ–¹æ¡ˆåœ¨å‰ç«¯é¢†åŸŸçš„åº”ç”¨ã€‚

---

## ğŸ¯ ä»€ä¹ˆæ˜¯ Monorepo å’Œ Multirepoï¼Ÿ

### Monorepoï¼ˆå•ä¸€ä»“åº“ï¼‰

**Monorepo** æ˜¯å°†å¤šä¸ªé¡¹ç›®æ”¾åœ¨**åŒä¸€ä¸ª Git ä»“åº“**ä¸­ç®¡ç†çš„ç­–ç•¥ã€‚

```
my-monorepo/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ web-app/           # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ admin-app/         # ç®¡ç†åå°
â”‚   â”œâ”€â”€ mobile-app/        # ç§»åŠ¨ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ shared-utils/      # å…±äº«å·¥å…·åº“
â”‚   â””â”€â”€ ui-components/     # UI ç»„ä»¶åº“
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-workspace.yaml
â””â”€â”€ turbo.json
```

**ä»£è¡¨æ¡ˆä¾‹**ï¼š

- Googleï¼ˆå‡ ä¹æ‰€æœ‰ä»£ç éƒ½åœ¨ä¸€ä¸ªä»“åº“ï¼‰
- Metaï¼ˆFacebookï¼‰
- Babelã€Reactã€Vue 3ã€Next.js

### Multirepoï¼ˆå¤šä»“åº“ï¼‰

**Multirepo** æ˜¯å°†æ¯ä¸ªé¡¹ç›®æ”¾åœ¨**ç‹¬ç«‹çš„ Git ä»“åº“**ä¸­ç®¡ç†çš„ç­–ç•¥ã€‚

```
organization/
â”œâ”€â”€ web-app/               # ä»“åº“ 1
â”œâ”€â”€ admin-app/             # ä»“åº“ 2
â”œâ”€â”€ mobile-app/            # ä»“åº“ 3
â”œâ”€â”€ shared-utils/          # ä»“åº“ 4
â””â”€â”€ ui-components/         # ä»“åº“ 5
```

**ä»£è¡¨æ¡ˆä¾‹**ï¼š

- ä¼ ç»Ÿä¼ä¸šé¡¹ç›®
- ç‹¬ç«‹çš„å¼€æºåº“

---

## ğŸ†š Monorepo vs Multirepo å¯¹æ¯”

| ç‰¹æ€§         | Monorepo                  | Multirepo                   |
| ------------ | ------------------------- | --------------------------- |
| **ä»£ç å…±äº«** | âœ… ç›´æ¥å¼•ç”¨ï¼Œæ— éœ€å‘åŒ…     | âŒ éœ€è¦å‘å¸ƒ npm åŒ…          |
| **åŸå­æäº¤** | âœ… è·¨é¡¹ç›®ä¿®æ”¹ä¸€æ¬¡æäº¤     | âŒ éœ€è¦å¤šæ¬¡æäº¤å’Œåè°ƒ       |
| **ä¾èµ–ç®¡ç†** | âœ… ç»Ÿä¸€ç®¡ç†ï¼Œé¿å…ç‰ˆæœ¬å†²çª | âŒ å„è‡ªç®¡ç†ï¼Œå¯èƒ½ç‰ˆæœ¬ä¸ä¸€è‡´ |
| **æ„å»ºæ•ˆç‡** | âœ… å¢é‡æ„å»ºï¼Œç¼“å­˜ä¼˜åŒ–     | âŒ æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹æ„å»º         |
| **ä»“åº“å¤§å°** | âŒ ä»“åº“ä¼šè¶Šæ¥è¶Šå¤§         | âœ… æ¯ä¸ªä»“åº“ä¿æŒå°å·§         |
| **æƒé™æ§åˆ¶** | âŒ è¾ƒéš¾åšç»†ç²’åº¦æ§åˆ¶       | âœ… å¯ä»¥ç‹¬ç«‹è®¾ç½®æƒé™         |
| **å­¦ä¹ æˆæœ¬** | âŒ éœ€è¦å­¦ä¹ ä¸“ç”¨å·¥å…·       | âœ… ä¼ ç»Ÿæ–¹å¼ï¼Œæ— éœ€é¢å¤–å­¦ä¹    |
| **CI/CD**    | éœ€è¦ä¸“é—¨é…ç½®              | å„è‡ªç‹¬ç«‹ï¼Œç®€å•ç›´æ¥          |

---

## ğŸ’¡ ä»€ä¹ˆæ—¶å€™é€‰æ‹© Monorepoï¼Ÿ

### âœ… é€‚åˆ Monorepo çš„åœºæ™¯

1. **å¤šä¸ªé¡¹ç›®é«˜åº¦å…³è”**

   - å‰ç«¯ + åç«¯ + å…±äº«ç±»å‹
   - ä¸»åº”ç”¨ + ç®¡ç†åå° + H5
   - ç»„ä»¶åº“ + æ–‡æ¡£ç«™ç‚¹ + ç¤ºä¾‹é¡¹ç›®

2. **é¢‘ç¹éœ€è¦è·¨é¡¹ç›®ä¿®æ”¹**

   - ä¿®æ”¹ API éœ€è¦åŒæ­¥æ›´æ–°å¤šç«¯
   - å…¬å…±ç»„ä»¶æ›´æ–°éœ€è¦ç«‹å³ç”Ÿæ•ˆ

3. **ç»Ÿä¸€æŠ€æœ¯æ ˆ**

   - ç»Ÿä¸€çš„ ESLintã€Prettier è§„åˆ™
   - ç»Ÿä¸€çš„æ„å»ºé…ç½®
   - ç»Ÿä¸€çš„ä¾èµ–ç‰ˆæœ¬

4. **å›¢é˜Ÿè§„æ¨¡é€‚ä¸­**
   - 10-50 äººçš„ä¸­å‹å›¢é˜Ÿ
   - è·¨é¡¹ç›®åä½œé¢‘ç¹

### âŒ ä¸é€‚åˆ Monorepo çš„åœºæ™¯

1. **é¡¹ç›®ä¹‹é—´å®Œå…¨ç‹¬ç«‹**
2. **ä¸åŒå›¢é˜Ÿè´Ÿè´£ä¸åŒé¡¹ç›®ï¼Œéœ€è¦ä¸¥æ ¼æƒé™éš”ç¦»**
3. **é¡¹ç›®æŠ€æœ¯æ ˆå·®å¼‚å·¨å¤§**
4. **å›¢é˜Ÿå¯¹ Monorepo å·¥å…·é“¾ä¸ç†Ÿæ‚‰**

---

## ğŸ› ï¸ Monorepo å·¥å…·é“¾

### 1. åŒ…ç®¡ç†å™¨

| å·¥å…·        | Workspace æ”¯æŒ | ç‰¹ç‚¹                           |
| ----------- | -------------- | ------------------------------ |
| **pnpm** â­ | âœ…             | é€Ÿåº¦å¿«ã€ç£ç›˜å ç”¨å°ã€ä¸¥æ ¼çš„ä¾èµ– |
| **yarn**    | âœ…             | æˆç†Ÿç¨³å®šã€æ’ä»¶ç”Ÿæ€ä¸°å¯Œ         |
| **npm**     | âœ… (v7+)       | åŸç”Ÿæ”¯æŒï¼Œæ— éœ€é¢å¤–é…ç½®         |

### 2. æ„å»ºå·¥å…·

| å·¥å…·             | ç‰¹ç‚¹                         | é€‚ç”¨åœºæ™¯     |
| ---------------- | ---------------------------- | ------------ |
| **Turborepo** â­ | å¢é‡æ„å»ºã€è¿œç¨‹ç¼“å­˜ã€ç®€å•æ˜“ç”¨ | ä¸­å°å‹é¡¹ç›®   |
| **Nx**           | åŠŸèƒ½å¼ºå¤§ã€å¯è§†åŒ–ã€æ’ä»¶ä¸°å¯Œ   | å¤§å‹ä¼ä¸šé¡¹ç›® |
| **Lerna**        | è€ç‰Œå·¥å…·ã€ç‰ˆæœ¬ç®¡ç†           | å¼€æºåº“ç®¡ç†   |
| **Rush**         | å¾®è½¯å‡ºå“ã€é€‚åˆè¶…å¤§è§„æ¨¡       | è¶…å¤§å‹é¡¹ç›®   |

### 3. æ¨èç»„åˆ

**æœ€ä½³å®è·µç»„åˆ**ï¼š

```
pnpm + Turborepo + Changesets
```

- **pnpm**ï¼šåŒ…ç®¡ç†
- **Turborepo**ï¼šä»»åŠ¡è°ƒåº¦å’Œç¼“å­˜
- **Changesets**ï¼šç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒ

---

## ğŸ¯ æ€»ç»“

### å¦‚ä½•é€‰æ‹©ï¼Ÿ

```
é¡¹ç›®å…³è”ç´§å¯†ï¼Ÿé¢‘ç¹è·¨é¡¹ç›®ä¿®æ”¹ï¼Ÿç»Ÿä¸€æŠ€æœ¯æ ˆï¼Ÿ
        â”‚
        â”œâ”€â”€ æ˜¯ â†’ Monorepo
        â”‚         â”œâ”€â”€ ä¸­å°å›¢é˜Ÿ â†’ pnpm + Turborepo
        â”‚         â”œâ”€â”€ å¤§å‹ä¼ä¸š â†’ pnpm + Nx
        â”‚         â””â”€â”€ å¼€æºåº“   â†’ pnpm + Changesets
        â”‚
        â””â”€â”€ å¦ â†’ Multirepoï¼ˆä¼ ç»Ÿæ–¹æ¡ˆï¼‰
```

### æ ¸å¿ƒå¯¹æ¯”

| ç»´åº¦         | Monorepo       | Multirepo   |
| ------------ | -------------- | ----------- |
| **ä»£ç å…±äº«** | ç›´æ¥å¼•ç”¨ âœ…    | éœ€å‘ npm åŒ… |
| **ç‰ˆæœ¬ç®¡ç†** | ç»Ÿä¸€æ§åˆ¶ âœ…    | å„è‡ªç‹¬ç«‹    |
| **æ„å»ºæ•ˆç‡** | å¢é‡ + ç¼“å­˜ âœ… | ç‹¬ç«‹æ„å»º    |
| **ä¸Šæ‰‹æˆæœ¬** | éœ€å­¦å·¥å…·é“¾     | é›¶æˆæœ¬ âœ…   |
| **æƒé™éš”ç¦»** | è¾ƒéš¾           | å¤©ç„¶éš”ç¦» âœ… |

### æ¨èå·¥å…·é“¾

| èŒè´£     | å·¥å…·           | è¯´æ˜                             |
| -------- | -------------- | -------------------------------- |
| åŒ…ç®¡ç†   | **pnpm**       | Workspace æ”¯æŒã€é€Ÿåº¦å¿«ã€ä¸¥æ ¼ä¾èµ– |
| ä»»åŠ¡è°ƒåº¦ | **Turborepo**  | å¢é‡æ„å»ºã€è¿œç¨‹ç¼“å­˜ã€ä¾èµ–åˆ†æ     |
| ç‰ˆæœ¬å‘å¸ƒ | **Changesets** | å˜æ›´è¿½è¸ªã€CHANGELOGã€npm å‘å¸ƒ    |

### ä¸€å¥è¯ç»“è®º

> **Monorepo ä¸æ˜¯é“¶å¼¹**ï¼Œä½†å½“ä½ çš„é¡¹ç›®é«˜åº¦å…³è”ã€éœ€è¦é¢‘ç¹è·¨åŒ…åä½œæ—¶ï¼Œ`pnpm + Turborepo + Changesets` æ˜¯å½“å‰æœ€ä½³å®è·µã€‚

---

## ğŸ“š ç›¸å…³èµ„æº

- [Turborepo å®˜æ–¹æ–‡æ¡£](https://turbo.build/)
- [pnpm Workspace æ–‡æ¡£](https://pnpm.io/workspaces)
- [Nx å®˜æ–¹æ–‡æ¡£](https://nx.dev/)
- [Changesets æ–‡æ¡£](https://github.com/changesets/changesets)
- [Monorepo.tools](https://monorepo.tools/) - Monorepo å·¥å…·å¯¹æ¯”
